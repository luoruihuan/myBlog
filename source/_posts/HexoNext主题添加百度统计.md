---
title: Hexo Next 主题添加百度统计
date: 2020-07-14 21:10:05
categories: 建站、爬虫、其他技术相关
tags:  Hexo
urlname: next1
---

&nbsp;&nbsp;&nbsp;&nbsp;网站搭建也有了很长一段时间，以前也没怎么维护过，想起来了就写点东西，域名也买了，博客也搭了，总不能就在这长草了，还是要装修装修，今天想着虽然博客没啥浏览量但是说不准以后流量会越来越大，这个时候就要去统计博客的访问情况，比如博客的历史访问量、访问来源、访问地域等统计数据。之前用过百度统计的工具，百度账号啥的也都是现成的，这篇就简单介绍下 `Hexo + Next` 博客配置百度统计功能。<!--more-->

##### 1、注册百度统计账号
&nbsp;&nbsp;&nbsp;&nbsp;首先需要注册一个百度统计的账号，这块都很简单，注册成功后登录会进入到网站列表添加目标网站。网站添加成功后可以在管理模块选择代码获取，如图所示：
![tongjiKey](/uploads/tongjiKey.jpg)
&nbsp;&nbsp;&nbsp;&nbsp; 按照以往的经验，想着直接拿这段代码添加到 `footer.swig`文件中，或者`header`文件中，只需要添加到网站全部页面的`head`标签前就行，但是网上查了资料发现，远没有那么复杂，Next 主题对百度统计已经进行了封装优化，我们只需要将上面图片中的key值写入就可以。

##### 2、配置next主题文件
&nbsp;&nbsp;&nbsp;&nbsp; 在配置文件 `themes/next/_config.yml` 中，有个 `baidu_analytics` 字段，将百度统计中的key值配置下：
```js
# Baidu Analytics ID
baidu_analytics: 上图中key值。
```
&nbsp;&nbsp;&nbsp;&nbsp; 就这么简单~ 是不是so easy，然后编译发布下就OK。

##### 3、验证时可能遇到问题

&nbsp;&nbsp;&nbsp;&nbsp; 配置成功后，我们就可以到百度统计的管理模块，点击右侧的代码安装检查
![tongjiKey2](/uploads/tongjiKey2.jpg)
&nbsp;&nbsp;&nbsp;&nbsp; 如果显示的代码安装正确那么就成功没啥问题了，大概20分钟左右就可以看到统计数据，但是我在第一次测试时，页面安装状态提示：代码未生效。我手工检测了一下，发现代码安装是正确的，但是一直提示未生效，我又在其他网页中输入`http:luoruihuan.top` 没有添加www进行了测试，发现提示安装正确，这就比较费解了，虽然不知道具体导致原因是啥，但是我编辑了一下网站列表中的网站首页改成了去除www的形式，就ok了，虽然不知道为啥，感觉有可能是百度统计的bug。然后就可以去主页查看报告了~，虽然现在还没啥浏览量。。。






